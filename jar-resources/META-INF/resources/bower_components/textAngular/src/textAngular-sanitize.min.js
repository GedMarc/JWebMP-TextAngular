
(function(I,v,m){var p=v.$$minErr("$sanitize");function L(){this.$get=["$$sanitizeUri",function(P){return function(R){if(typeof arguments[1]!="undefined"){arguments[1].version="taSanitize"}var Q=[];K(R,l(Q,function(S,T){return !/^unsafe/.test(P(S,T))}));return Q.join("")}}]}function N(Q){var P=[];var R=l(P,v.noop);R.chars(Q);return P.join("")}var C=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,n=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,b=/^</,M=/^<\//,F=/<!--(.*?)-->/g,H=/(^<!--.*?-->)/,O=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]>/g,E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,A=/^(\s+)/;var c=G("area,br,col,hr,img,wbr,input");var k=G("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=G("rp,rt"),D=v.extend({},y,k);var f=v.extend({},k,G("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var h=v.extend({},y,G("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var i=G("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var J=G("script,style");var g=v.extend({},c,f,h,D,i);var x=G("background,cite,href,longdesc,src,usemap,xlink:href");var q=G("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width");var t=G("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var e=v.extend({},x,t,q);function G(S){var R={},P=S.split(","),Q;for(Q=0;Q<P.length;Q++){R[P[Q]]=true}return R}function K(Q,Z){if(typeof Q!=="string"){if(Q===null||typeof Q==="undefined"){Q=""}else{Q=""+Q}}var T,U,R,V=[],W=Q,Y;V.last=function(){return V[V.length-1]};while(Q){Y="";U=true;if(!V.last()||!J[V.last()]){if(A.test(Q)){R=Q.match(A);if(R){var X=R[0];if(Z.whitespace){Z.whitespace(R[0])}Q=Q.replace(R[0],"");U=false}}else{if(H.test(Q)){R=Q.match(H);if(R){if(Z.comment){Z.comment(R[1])}Q=Q.replace(R[0],"");U=false}}else{if(O.test(Q)){R=Q.match(O);if(R){Q=Q.replace(R[0],"");U=false}}else{if(M.test(Q)){R=Q.match(d);if(R){Q=Q.substring(R[0].length);R[0].replace(d,S);U=false}}else{if(b.test(Q)){R=Q.match(C);if(R){if(R[4]){Q=Q.substring(R[0].length);R[0].replace(C,P)}U=false}else{Y+="<";Q=Q.substring(1)}}}}}}if(U){T=Q.indexOf("<");Y+=T<0?Q:Q.substring(0,T);Q=T<0?"":Q.substring(T);if(Z.chars){Z.chars(s(Y))}}}else{Q=Q.replace(new RegExp("([^]*)<\\s*\\/\\s*"+V.last()+"[^>]*>","i"),function(aa,ab){ab=ab.replace(F,"$1").replace(r,"$1");if(Z.chars){Z.chars(s(ab))}return""});S("",V.last())}if(Q==W){throw p("badparse","The sanitizer was unable to parse the following block of html: {0}",Q)}W=Q}S();function P(aa,ad,ae,ab){ad=v.lowercase(ad);if(f[ad]){while(V.last()&&h[V.last()]){S("",V.last())}}if(D[ad]&&V.last()==ad){S("",ad)}ab=c[ad]||!!ab;if(!ab){V.push(ad)}var ac={};ae.replace(n,function(ai,ah,ag,ak,af){var aj=ag||ak||af||"";ac[ah]=s(aj)});if(Z.start){Z.start(ad,ac,ab)}}function S(aa,ac){var ad=0,ab;ac=v.lowercase(ac);if(ac){for(ad=V.length-1;ad>=0;ad--){if(V[ad]==ac){break}}}if(ad>=0){for(ab=V.length-1;ab>=ad;ab--){if(Z.end){Z.end(V[ab])}}V.length=ad}}}var o=document.createElement("pre");var B=/^(\s*)([\s\S]*?)(\s*)$/;function s(S){if(!S){return""}var T=B.exec(S);var P=T[1];var Q=T[3];var R=T[2];if(R){o.innerHTML=R.replace(/</g,"&lt;");R="textContent" in o?o.textContent:o.innerText}return P+R+Q}function u(P){return P.replace(/&/g,"&amp;").replace(E,function(S){var R=S.charCodeAt(0);var Q=S.charCodeAt(1);return"&#"+(((R-55296)*1024)+(Q-56320)+65536)+";"}).replace(w,function(Q){var R=Q.charCodeAt(0);if(R<=159||R==173||(R>=1536&&R<=1540)||R==1807||R==6068||R==6069||(R>=8204&&R<=8207)||(R>=8232&&R<=8239)||(R>=8288&&R<=8303)||R==65279||(R>=65520&&R<=65535)){return"&#"+R+";"}return Q}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var a=(function(){if(!String.prototype.trim){return function(P){return v.isString(P)?P.replace(/^\s\s*/,"").replace(/\s\s*$/,""):P}}return function(P){return v.isString(P)?P.trim():P}})();function j(Q){var P="";var R=Q.split(";");v.forEach(R,function(U){var S=U.split(":");if(S.length==2){var T=a(v.lowercase(S[0]));var U=a(v.lowercase(S[1]));if((T==="color"||T==="background-color")&&(U.match(/^rgb\([0-9%,\. ]*\)$/i)||U.match(/^rgba\([0-9%,\. ]*\)$/i)||U.match(/^hsl\([0-9%,\. ]*\)$/i)||U.match(/^hsla\([0-9%,\. ]*\)$/i)||U.match(/^#[0-9a-f]{3,6}$/i)||U.match(/^[a-z]*$/i))||T==="text-align"&&(U==="left"||U==="right"||U==="center"||U==="justify")||T==="text-decoration"&&(U==="underline"||U==="line-through")||T==="font-weight"&&(U==="bold")||T==="font-style"&&(U==="italic")||T==="float"&&(U==="left"||U==="right"||U==="none")||T==="vertical-align"&&(U==="baseline"||U==="sub"||U==="super"||U==="test-top"||U==="text-bottom"||U==="middle"||U==="top"||U==="bottom"||U.match(/[0-9]*(px|em)/)||U.match(/[0-9]+?%/))||T==="font-size"&&(U==="xx-small"||U==="x-small"||U==="small"||U==="medium"||U==="large"||U==="x-large"||U==="xx-large"||U==="larger"||U==="smaller"||U.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||(T==="width"||T==="height")&&(U.match(/[0-9\.]*(px|em|rem|%)/))||(T==="direction"&&U.match(/^ltr|rtl|initial|inherit$/))){P+=T+": "+U+";"}}});return P}function z(P,Q,S,R){if(P==="img"&&Q["ta-insert-video"]){if(S==="ta-insert-video"||S==="allowfullscreen"||S==="frameborder"||(S==="contenteditable"&&R==="false")){return true}}return false}function l(Q,R){var S=false;var P=v.bind(Q,Q.push);return{start:function(T,V,U){T=v.lowercase(T);if(!S&&J[T]){S=T}if(!S&&g[T]===true){P("<");P(T);v.forEach(V,function(X,W){var Z=v.lowercase(W);var Y=(T==="img"&&Z==="src")||(Z==="background");if((Z==="style"&&(X=j(X))!=="")||z(T,V,Z,X)||e[Z]===true&&(x[Z]!==true||R(X,Y))){P(" ");P(W);P('="');P(u(X));P('"')}});P(U?"/>":">")}},comment:function(T){P(T)},whitespace:function(T){P(u(T))},end:function(T){T=v.lowercase(T);if(!S&&g[T]===true){P("</");P(T);P(">")}if(T==S){S=false}},chars:function(T){if(!S){P(u(T))}}}}v.module("ngSanitize",[]).provider("$sanitize",L);v.module("ngSanitize").filter("linky",["$sanitize",function(R){var P=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,Q=/^mailto:/;return function(aa,W){if(!aa){return aa}var V;var Y=aa;var U=[];var S;var T;while((V=Y.match(P))){S=V[0];if(!V[2]&&!V[4]){S=(V[3]?"http://":"mailto:")+S}T=V.index;Z(Y.substr(0,T));X(S,V[0].replace(Q,""));Y=Y.substring(T+V[0].length)}Z(Y);return R(U.join(""));function Z(ab){if(!ab){return}U.push(N(ab))}function X(ab,ac){U.push("<a ");if(v.isDefined(W)){U.push('target="',W,'" ')}U.push('href="',ab.replace(/"/g,"&quot;"),'">');Z(ac);U.push("</a>")}}}])})(window,window.angular);

 
